@model saavor.Shared.ViewModel.KitchenOrderInvoiceVm

<div>
    <div class="row">
        <div class="col-6">
            <span id="exporttoPdf" onclick="onLoadOrderInvoiceToPDF()"> <img src="~/images/PDF_file_icon.svg" style="width:30px;height:30px; cursor:pointer" title="pdf" alt="pdf" /></span>
            <span class="pl-2" onclick="printReceipt('receipt-container')">
                <img src="~/images/printer-icon.png" style="width:30px;height:30px; cursor:pointer" title="print" alt="print" />
            </span>
        </div>
        <div class="col-6">
            <span class="float-left roboto-bold font-size-20"></span>
            <span onclick="onClose()" class="close" title="close">×</span>
        </div>
    </div>

    <div class="invoice--export">
        <div class="row mt-4 mb-4">
            <div class="col-6">
                <span class="float-left roboto-medium font-size-20">Invoice</span>
            </div>
            <div class="col-6">
                <span class="float-right roboto-regular font-size-16">Order #@Model.FoodOrderDetail.OrderNumber</span>
                <input type="hidden" id="hdnOrderNumber" value="@Model.FoodOrderDetail.OrderNumber" />
            </div>
        </div>
        <div class="row mt-4 mb-3">
            <div class="col-6 invoice--from">
                <span><b>From:</b></span>
                <span>@Model.FoodOrderDetail.KitchenName</span>
                <span>@Model.FoodOrderDetail.Address1 @Model.FoodOrderDetail.ZipCode</span>
                <span>Ph:@Model.FoodOrderDetail.PhoneNo</span>
            </div>
            <div class="col-6 invoice--to">
                <span><b>To:</b></span>
                <span>@Model.FoodOrderDetail.FirstName @Model.FoodOrderDetail.LastName</span>
                <span>@Model.FoodOrderDetail.UserAddress1 @Model.FoodOrderDetail.Zip </span>
                @*<span>Ph: @Model.FoodOrderDetail.PhoneNo</span>*@
                <span><b>Contact Person: </b> @Model.FoodOrderDetail.FirstName @Model.FoodOrderDetail.LastName</span>
                <span><b>Contact Number: </b>@Model.FoodOrderDetail.MobileNo</span>
            </div>
        </div>
        <div class="row mt-4 mb-3">
            <div class="col-6 invoice--from">
                <span><b>Delivery By:</b></span>
                <span>@Model.FoodOrderDetail.DeliveryBy</span>
            </div>
            <div class="col-6 invoice--to">
                <span><b>Order Date:</b></span>
                <span>@Model.FoodOrderDetail.OrderDate</span>
            </div>
        </div>
        <div class="row mt-4 mb-3">
            <div class="col-6 invoice--from">
                <span><b>Delivery Info:</b></span>
                <span>@Model.FoodOrderDetail.OrderDate, @Model.FoodOrderDetail.DeliverySlot</span>
            </div>
            <div class="col-6 invoice--to">
                <span><b>Payment Method:</b></span>
                <span>@Model.FoodOrderDetail.CardType</span>
            </div>
        </div>
        <div class="row mt-4 mb-3">
            <div class="col-xl-12">
                <div class="card mb-4" style="border: 1px solid #ccc;">
                    <div class="card-header">
                        Bill summary
                    </div>
                    <div class="card-body">
                        <div class="table-responsive bg-white">
                            <table class="table table-bordered invoive-item--table" id="dataTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th>Item</th>
                                        <th>Price</th>
                                        <th>Quantity</th>
                                        <th class="text-right" style=" padding: .75rem 0;">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        var i = 1;
                                    }
                                    @if (Model != null && Model.DishesItem != null && Model.DishesItem.Count > 0)
                                    {
                                        @foreach (var item in Model.DishesItem)
                                        {
                                            <tr>
                                                <td>@item.DishName</td>
                                                <td>@item.Price</td>
                                                <td>@item.Quantity</td>
                                                <td class="text-right" style=" padding: .75rem 0;">
                                                  @item.Total
                                                </td>
                                            </tr>
                                            i++;
                                        }

                                        <tr><td colspan="4" style="border-bottom: 1px solid #fff !important; padding: 0 !important;"></td></tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Sub total</span> <b>@Model.FoodOrderDetail.SubTotal</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Deal Discount</span> <b>@Model.FoodOrderDetail.DealDiscount</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Promo Coupon Discount</span> <b>@Model.FoodOrderDetail.PromoCodeDiscount</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Sale Tax</span> <b>@Model.FoodOrderDetail.SalesTax</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Delivery Fee</span> <b>@Model.FoodOrderDetail.DeliveryFee</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Tip Amount</span> <b>@Model.FoodOrderDetail.TipAmount </b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Gratuity Amount</span> <b>@Model.FoodOrderDetail.GratuityAmount</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important; padding: .1rem !important;" class="text-right">
                                                <span>Total Previous Refunded Amount(If Any)</span> <b>0.00</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="4" style="border-bottom: 1px solid #fff !important;padding: .1rem !important;" class="text-right">
                                                <span>Total</span> <b>@Model.FoodOrderDetail.TotalAmount </b>
                                            </td>
                                        </tr>
                                    }
                                    else
                                    {
                                        <tr>
                                            <td colspan="4">No order found!</td>
                                        </tr>
                                    }
                                </tbody>
                            </table>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
     
</div>
<div id="receipt-container" style="display:none">

    <div class="ticket">
        <div class="row">
            <div class="col-12">
                <span class="customer_name">@Model.FoodOrderDetail.FirstName @Model.FoodOrderDetail.LastName</span>
            </div>
        </div>
        <div class="row pt-2">
            <div class="col-12">
                <span class="company_N_o">Saavor #@Model.FoodOrderDetail.OrderNumber</span>
            </div>
        </div>
        <div class="row brd_top pb-2">
            <div class="col-6">
                <span class="cust_phone">@Model.FoodOrderDetail.MobileNo</span>
            </div>
            <div class="col-6">
                <span class="cust_pin">Pin: @Model.FoodOrderDetail.Zip</span>
            </div>
        </div>
        <div class="row pb-2">
            <div class="col-6">
                <span class="delivery_name">Delivery note:</span>
            </div>
            <div class="col-6">
                <span class="cust_pin">@Model.FoodOrderDetail.DeliveryNote</span>
            </div>
        </div>

        <div class="row brd_top pt-2">
            <div class="col-12">
                <span class="vegan_seeds">@Model.FoodOrderDetail.KitchenName</span>
            </div>
        </div>

        <div class="row pt-2 pb-4">
            <div class="col-6">
                <span class="ord_items">
                    @if (Model != null && Model.DishesItem != null && Model.DishesItem.Count > 0)
                    {
                        @if (Model.DishesItem.Count > 1)
                        {
                            <span>@Model.DishesItem.Count items</span>
                        }
                        else
                        {
                            <span>@Model.DishesItem.Count item</span>
                        }
                    }
                </span>
            </div>
            <div class="col-6">
                <span class="ord_item_status">Delivery</span>
            </div>
        </div>


        <div class="row">
            <div class="col-12">
                <div class="order_note_container">
                    <span class="order_note_heading">ORDER NOTE</span>
                    <span class="order_note">@Model.FoodOrderDetail.OrderNote</span>
                </div>
            </div>
        </div>
        <div class="row pt-2 pb-3">
            <div class="col-12">
                <table>
                    <tbody>
                        @if (Model != null && Model.DishesItem != null && Model.DishesItem.Count > 0)
                        {
                            @foreach (var item in Model.DishesItem)
                            {
                                <tr>
                                    <td class="description">@item.Quantity<span>x</span> @item.DishName</td>
                                    <td class="price">$@item.Total</td>
                                </tr>

                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row brd_top pt-1 pb-3">
            <div class="col-12">
                <table>
                    <tbody>
                        <tr>
                            <td class="pos_subtotal">Subtotal:</td>
                            <td class="pos_subtotal_price">$@Model.FoodOrderDetail.SubTotal</td>
                        </tr>
                        <tr>
                            <td class="pos_discount">Promo Code/Discount:</td>
                            <td class="pos_discount_price">($@Model.FoodOrderDetail.PromoCodeAndDiscount)</td>
                        </tr>
                        <tr>
                            <td class="pos_tax">Taxes & Charges:</td>
                            <td class="pos_tax_price">$@Model.FoodOrderDetail.TaxesCharges</td>
                        </tr>
                        <tr>
                            <td class="pos_tax">Total:</td>
                            <td class="pos_tax_price">$@Model.FoodOrderDetail.TotalAmount</td>
                        </tr>


                    </tbody>
                </table>
            </div>
        </div>
        <div class="row brd_top pt-1 pb-2">
            <div class="col-12">
                <table>
                    <tbody>
                        <tr>
                            <td class="pos_subtotal">@Model.FoodOrderDetail.KitchenName</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row brd_top pt-1 pb-2">
            <div class="col-12">
                <table>
                    <tbody>
                        <tr>
                            <td class="pos_subtotal">Thank you, we hope you enjoy your meal.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row pb-3">
            <div class="col-12">
                <div class="order_note_container">                    
                    <span class="order_note receipt_current_date">Received: @DateTime.Now.ToString("ddd MMM yy") at @DateTime.Now.ToString("hh:mm tt")</span>
                </div>
            </div>
        </div>
    </div>     
</div>